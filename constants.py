"""
Atari Sample Tracker - Constants and Configuration
"""

# =============================================================================
# TRACKER LIMITS
# =============================================================================

MAX_CHANNELS = 3
MAX_OCTAVES = 4
MAX_NOTES = MAX_OCTAVES * 12  # 48

MAX_VOLUME = 15
MAX_INSTRUMENTS = 128
MAX_PATTERNS = 256
MAX_ROWS = 256
MAX_SONGLINES = 256

DEFAULT_SPEED = 6
DEFAULT_LENGTH = 64
DEFAULT_OCTAVE = 2
DEFAULT_STEP = 1

PAL_HZ = 50
NTSC_HZ = 60

# =============================================================================
# NOTE NAMES
# =============================================================================

NOTE_NAMES = ['C-', 'C#', 'D-', 'D#', 'E-', 'F-', 'F#', 'G-', 'G#', 'A-', 'A#', 'B-']

def note_to_str(note: int) -> str:
    """Convert note (1-48) to string like 'C-2'."""
    if note == 0:
        return "---"
    idx = (note - 1) % 12
    octave = ((note - 1) // 12) + 1
    return f"{NOTE_NAMES[idx]}{octave}"

# =============================================================================
# KEYBOARD MAPPINGS (Piano Layout)
# =============================================================================

NOTE_KEYS = {
    # Lower octave (base)
    'z': 0, 'x': 2, 'c': 4, 'v': 5, 'b': 7, 'n': 9, 'm': 11,  # white
    's': 1, 'd': 3, 'g': 6, 'h': 8, 'j': 10,  # black
    # Upper octave (+12)
    'q': 12, 'w': 14, 'e': 16, 'r': 17, 't': 19, 'y': 21, 'u': 23,
    'i': 24, 'o': 26, 'p': 28,  # white
    '2': 13, '3': 15, '5': 18, '6': 20, '7': 22, '9': 25, '0': 27,  # black
}

# =============================================================================
# COLORS (Dark Theme)
# =============================================================================

COLORS = {
    'bg_dark': (18, 18, 24, 255),
    'bg_medium': (28, 30, 38, 255),
    'bg_light': (42, 46, 58, 255),
    'bg_lighter': (55, 60, 75, 255),
    
    'text': (220, 220, 230, 255),
    'text_dim': (130, 135, 150, 255),
    'text_muted': (90, 95, 110, 255),
    
    'accent_blue': (80, 140, 240, 255),
    'accent_green': (80, 200, 120, 255),
    'accent_red': (240, 80, 80, 255),
    'accent_yellow': (240, 200, 80, 255),
    'accent_cyan': (80, 200, 220, 255),
    'accent_purple': (160, 110, 220, 255),
    
    'highlight': (60, 70, 100, 255),
    'cursor': (120, 180, 255, 255),
    'cursor_bg': (45, 65, 110, 255),
    'playing': (120, 255, 140, 255),
    'playing_bg': (35, 75, 45, 255),
    
    'ch1': (255, 120, 120, 255),
    'ch2': (120, 255, 140, 255),
    'ch3': (120, 170, 255, 255),
    
    'note_on': (255, 255, 255, 255),
    'note_off': (70, 75, 90, 255),
    'border': (55, 60, 75, 255),
}

# =============================================================================
# UI DIMENSIONS
# =============================================================================

WIN_WIDTH = 1280
WIN_HEIGHT = 820
VISIBLE_ROWS = 24

# =============================================================================
# APP INFO
# =============================================================================

APP_NAME = "Atari Sample Tracker"
APP_VERSION = "2.1"
PROJECT_EXT = ".pvq"
